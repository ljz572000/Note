# 11. 面向对象设计原则（下）

SOLID

- L 里氏替换原则（LSP）
- I 接口隔离原则（ISP）
- D 依赖倒置原则（DIP）

LSP 是一条用来约束继承的设计原则。在第九章中说过，继承是一种既强大又危险的技术，要设计出合理的继承关系绝非易事。

在这方面，LSP为我们提供了很好的指导。遵循该原则，有助于我们设计出合理的继承关系。

ISP 与 DIP 都与面向对象体系里的接口对象有关，前者可以驱动我们设计出更好的接口，后者则会知道我们如何利用接口让代码变得更易扩展。

## 11.1 LSP: 里氏替换原则

### 11.1.1 子类随意抛出异常

### 11.1.2 子类随意调整方法参数与返回值

### 11.1.3 基于隐式合约违反LSP

### 11.1.4 LSP 小结

## 11.2 DIP: 依赖倒置原则

### 11.2.1 案例：按来源统计Hacker News条目数量

### 11.2.2 为脚本编写单元测试

### 11.2.3 实现DIP

### 11.2.4 倒置后的单元测试

### 11.2.5 DIP 小结

## 11.3 ISP： 接口隔离原则

### 11.3.1 案例：处理页面归档需求

### 11.3.2 修改实体类

### 11.3.3 违反ISP

### 11.3.4 分拆接口

### 11.3.5 其他违反ISP的场景

## 11.4 总结

